<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>D.I.C.E L Mart</title>

	<!-- update the version number as needed -->
	<script src="/__/firebase/10.7.1/firebase-app-compat.js"></script>
	<!-- include only the Firebase features as you need -->
	<script src="/__/firebase/10.7.1/firebase-auth-compat.js"></script>
	<script src="/__/firebase/10.7.1/firebase-firestore-compat.js"></script>

	<!-- <script defer src="/__/firebase/10.7.1/firebase-database-compat.js"></script>
	<script defer src="/__/firebase/10.7.1/firebase-functions-compat.js"></script>
	<script defer src="/__/firebase/10.7.1/firebase-messaging-compat.js"></script>
	<script defer src="/__/firebase/10.7.1/firebase-storage-compat.js"></script>
	<script defer src="/__/firebase/10.7.1/firebase-analytics-compat.js"></script>
	<script defer src="/__/firebase/10.7.1/firebase-remote-config-compat.js"></script> -->
	<!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
	<script src="/__/firebase/init.js?useEmulator=true"></script>

	<script src="/firebase/config.js"></script>
	<script src="/firebase/firestore.js"></script>
	<script src="/auth/verifyPlayer.js"></script>
	<script src="/auth/signOut.js"></script>
	<script>
		window.addEventListener("load", () => {
			verifySignIn(() => {
				document.querySelector("#player-name").innerHTML = player.name;
				document.querySelector("#player-email").innerHTML = player.email;
				document.querySelector("#sign-out-btn").hidden = false;
			}, () => {
				document.querySelector("#sign-in-btn").hidden = false;
				document.querySelector("#sign-in-btn").addEventListener("click", () => {
					window.location.href = "/login";
				})
			});
		})
	</script>

	<link rel="stylesheet" href="style.css">

</head>

<body>

	<h1>D.I.C.E L Mart</h1>

	<p id="player-name"></p>
	<p id="player-email"></p>
	<button id="sign-in-btn" hidden>Sign In</button>
	<button id="sign-out-btn" hidden>Sign Out</button>

</body>

</html>